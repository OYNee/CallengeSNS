# 개발환경 

### 4. npm를 이용해서 create react app 설치

>  순서

1. nodejs 설치(www.nodejs.org)
2. `npm install -g create-react-app`  명령어 실행 / 권한이 없어서 ERR 가 나게 되면 앞에 `sudo` 를 붙여서 다시 실행한다.
3. `create-react-app -V` 로 설치되었는지 확인



### 5. create react app 이용하여 개발 환경 구축

원하는 디렉토리를  react 개발환경으로 만들어줘 라고 create-react-app 에게 부탁하는 방법

1. 개발환경의 디렉토리를 생성 후 이동하여 `git bash here`
2. `create-react-app .` 입력         .(점)은 현재 디렉토리를 의미



### 6. 샘플 웹앱 실행

`npm run start` 명령어를 이용해 웹을 실행시킬 수 있다.



### 7. JS 코딩하는 법

<hr>
>  구현 LOGIC

index.html >> index.js(render 한다) >> 컴포넌트(App.js)

** 컴포넌트에는 꼭 하나의 `div `태그가 필요하다!! 




```javascript
// public/index.html


```



```javascript
// index.js

import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';
import * as serviceWorker from './serviceWorker';

ReactDOM.render(
  <React.StrictMode>
    <App />						//컴포넌트(App.js) 를 불러오는 기능
  </React.StrictMode>,
  document.getElementById('root')
);
```



```javascript
// App.js
// class 형식으로 변경 !

import logo from './logo.svg';
import './App.css';
import React, { Component } from 'react';

class App extends Component {
  render() {
    return (
      <div className="App">
        <header className="App-header">
          <img src={logo} className="App-logo" alt="logo" />
          <p>
            Edit <code>src/App.js</code> and save to reload.
          </p>
          <a
            className="App-link"
            href="https://reactjs.org"
            target="_blank"
            rel="noopener noreferrer"
          >
            Learn React
          </a>
        </header>
      </div>
    );
  }
}
```



### 8. CSS 코딩하는 법



### 9. Deploy 하는 법

`npm run build` 를 통해 load 할 수 있도록 처리를 해준다. >> build 폴더 생긴다.

서비스를 할 때는 build 안에 있는  파일들을 가지고 하게 된다.

`npm install -g serve` : serve 명령어를 설치하여 serve를 쓸 수있다.

or

`npx serve -s build` : build 디렉토리를 -root 로 설정해서 빌드한다.



# 컴포넌트 제작

### 2. 컴포넌트 만들기 1

> 예시

```javascript
// App.js

import './App.css';
import React, { Component } from 'react';

class App extends Component {
  render() {
    return (
      <div className="App">
        Hello World!
      </div>
    );
  }
}
// 위와 같은 식으로 컴포넌트(template) 를 만든다.
export default App;
```



> 만들어보기

```javascript
// App.js

import './App.css';
import React, { Component } from 'react';

class Subject extends Component {        // Subject 라는 Component 를 만든다고 선언
    render() {
        return(
        <header>					// return 할 때는 항상 최상단 태그가 존재해야한다.
            <h1>WEB</h1>
                <p>world wide WEB</p>
        </header>
        );
    }
}

class App extends Component {
  render() {
    return (
      <div className="App">
        <Subject></Subject>
      </div>
    );
  }
}

export default App;
```



--> 이런 식으로 Component를 만들고 `class App` 에서 사용해주면 된다.



###  4. Props

> 공식문서의 `components and props` 가서 확인해보자

```javascript
// App.js

class App extends Component {
  render() {
    return (
      <div className="App">
        <Subject title="WEB" sub="world wid WEB"></Subject>
        <List></List>
        <Content></Content>
      </div>
    );
  }
}


class Subject extends Component {
  render() {
    return (
      <header>
          <h1>{this.props.title}</h1>
              <p>{this.props.sub}</p>
      </header>
    );
  }
}
```

- <Subject> 라는 컴포넌트 안에 title, sub 과 같은 props 들을 추가한다.
- <Subject> 라는 컴포넌트를 정의할 때 `{this.props.propname}` 을 입력해준다.



### 5. Component 파일로 분류하기

- src 안에 components 라는 디렉토리를 만들고 component 별로 파일을 나눈다.

```javascript
//	src/components/List.js

import React, { Component } from 'react';

class List extends Component {
    render() {
      return (
        <nav>
            <ul>
                <li> <a href="1.html">HTML</a></li>
                <li> <a href="2.html">CSS</a></li>
                <li> <a href="3.html">JAVASCRIPT</a></li>
            </ul>
        </nav>
      );
    }
  }

// 다른 곳에서 List 라는 component 를 쓸 수 있게끔 export 시켜준다.
export default List;		
```



1. Componentname.js 파일 생성 후
2. 위의 코드와 같이 작성 , export default 를 해줘야 외부에서 가져다 쓸 수 있음
3. `App.js` 가서 `import Content from "./components/Content"` 상단에 작성해주기



# State

### 1. State 소개

> Props vs states

- Props 
  - 사용자가 component 를 사용하는 입장에서 중요하다
  - 상위컴포넌트(App.js) 에서 하위컴포넌트(Subject.js, List.js ...)를 호출할 때 쓴다.
- states: props에 따라 내부의 구현에 피료한 데이터, component 내부에서 사용하는 데이터들!





### 2. State 사용

- component 보다 먼저 실행되면서 값을 동시에 초기화 시켜줄 때 `constructor(props){}` 를 이용한다.
- App 이 내부적으로 사용할 것을 `this.state`에 지정!

```javascript
//  App.js 

constructor(props) {
    super(props);
    this.state = {
        subject: {title: 'WEB', sub: 'World Wide Web!'}
    }
}

class App extends Component {
  render() {
    return (
      <div className="App">
        <Subject 
          title={this.state.Subject.title} 
          sub={this.state.Subject.sub}>
        </Subject>
        <Subject title="React" sub="Hello React!!"></Subject>
        <List></List>
        <Content title="HTML" desc="HTML is HyperText Markup Language"></Content>
      </div>
    );
  }
}
```



### 3. Key

`key={식별자}` 형태로 넣어줘야 한다. react 내부에서 처리하기 위해 !



```javascript
// List.js

import React, { Component } from 'react';

class List extends Component {
    render() {
        
        
      var lists = [];
      var data = this.props.data;
      var i = 0;
      while(i < data.length) {
        lists.push(<li key={data[i].id}> <a href={"/content/"+data[i].id}>{data[i].title}</a></li>)
        i = i + 1;
      }
      return (
        <nav>
            <ul>
                {lists}
            </ul>
        </nav>
      );
    }
  }

  export default List;
```



```javascript
//App.js

// import React from 'react';
// import logo from './logo.svg';
import './App.css';
import React, { Component } from 'react';
import List from "./components/List"
import Content from "./components/Content"
import Subject from "./components/Subject"


class App extends Component {
  constructor(props) {
    super(props);
    this.state = {
      subject: {title: 'WEB', sub:"World Wide Web!"},
      contents: [
        {id: 1, title:"HTML", desc: "HTML is Hyper ....."},
        {id: 2, title:"CSS", desc: "CSS is Hyper ....."},
        {id: 3, title:"JAVASCRIPT", desc: "JAVASCRIPT is Hyper ....."}
      ]
    }
  }
  
  render() {
    return (
      <div className="App">
        <Subject 
          title={this.state.subject.title} 
          sub={this.state.subject.sub}>
        </Subject>
        <Subject title="React" sub="Hello React!!"></Subject>
		// 이런식으로 state를 불러올 수 있다.
        <List data={this.state.contents}></List>

        <Content title="HTML" desc="HTML is HyperText Markup Language"></Content>
      </div>
    );
  }
}


export default App;

```

- App 에서 `state` 를 정의하고 `props`를 통해 return 하고 `List.js` 에서는 구문을 작성한다.



# Event

### 1. 이벤트 state props & render 함수

링크를 클릭하면 `state` 가 변화하고 `return`  에 전달하여 변화를 만든다.

어떤 HTML 을 그릴까 하는 함수가 `render()` 이다.

```javascript
import './App.css';
import React, { Component } from 'react';
import List from "./components/List"
import Content from "./components/Content"
import Subject from "./components/Subject"


class App extends Component {
  constructor(props) {
    super(props);
    this.state = {
      mood:'read',
      subject: {title: 'WEB', sub:"World Wide Web!"},
      welcome: {title:'Welcome', desc:'Hello, React!!'},
      contents: [
        {id: 1, title:"HTML", desc: "HTML is Hyper ....."},
        {id: 2, title:"CSS", desc: "CSS is Hyper ....."},
        {id: 3, title:"JAVASCRIPT", desc: "JAVASCRIPT is Hyper ....."}
      ]
    }
  }
  
  render() {
    var _title, _desc = null;
    if(this.state.mood === 'welcome') {
      _title = this.state.welcome.title;
      _desc = this.state.welcome.desc;
    } else if(this.state.mood === 'read') {
      _title = this.state.contents[0].title;
      _desc = this.state.contents[0].desc;
    }
    return (
      <div className="App">
        <Subject 
          title={this.state.subject.title} 
          sub={this.state.subject.sub}>
        </Subject>
        <Subject title="React" sub="Hello React!!"></Subject>
        <List data={this.state.contents}></List>
        <Content title={_title} desc={_desc}></Content>
      </div>
    );
  }
}

export default App;
```



### 2. Event 설치

목적 : 클릭 했을 때 변화된 것을 화면에 바로 보여주기(SPA 느낌으로)

event함수 규칙 : onClick 처럼 camelCase

function(paramenter) {

}

함수가 호출될 때 함수의 첫번째 parameter 로 event 객채를 주입시킨다.

문제점 - 클릭을 했을 때 해당 위치로 reload 를 한다. solution => `parameter.preventDefault()`



```javascript
<header>
          <h1><a href="/" onClick={ function(e) {
            console.log('eee');
            e.preventDefault();
          }}>{this.state.subject.title}</a></h1>
              <p>{this.state.subject.sub}</p>
        </header>
```



### 3. 이벤트에서 state 변경하기

목적 : WEB 을 클릭 시 mode 를 welcome -> read 로 변경하기



<2가지 신경써야 할 것>

1. function 내에서 this 는 먹히지 않는다.    solution => 뒤에 `.bind(this)` 를 붙여준다. (강제로 this를 주입)
2. state 를 바꿔주는 함수 `this.setState({ 바꾸고자 하는 내용 ex) mode: 'welcome'})` 를 써준다.

```javascript
// import React from 'react';
// import logo from './logo.svg';
import './App.css';
import React, { Component } from 'react';
import List from "./components/List"
import Content from "./components/Content"
import Subject from "./components/Subject"


class App extends Component {
  constructor(props) {
    super(props);
    this.state = {
      mood:'read',
      subject: {title: 'WEB', sub:"World Wide Web!"},
      welcome: {title:'Welcome', desc:'Hello, React!!'},
      contents: [
        {id: 1, title:"HTML", desc: "HTML is Hyper ....."},
        {id: 2, title:"CSS", desc: "CSS is Hyper ....."},
        {id: 3, title:"JAVASCRIPT", desc: "JAVASCRIPT is Hyper ....."}
      ]
    }
  }
  
  render() {
    var _title, _desc = null;
    if(this.state.mood === 'welcome') {
      _title = this.state.welcome.title;
      _desc = this.state.welcome.desc;
    } else if(this.state.mood === 'read') {
      _title = this.state.contents[0].title;
      _desc = this.state.contents[0].desc;
    }
    return (
      <div className="App">
        {/* <Subject 
          title={this.state.subject.title} 
          sub={this.state.subject.sub}>
        </Subject> */}
        <header>
          <h1><a href="/" onClick={ function(e) {
            console.log('eee');
            e.preventDefault();
              // setState({}) 함수를 통해 mood를 변경해준다.
            this.setState({
              mood:'welcome'
            });
          }.bind(this)}> {this.state.subject.title}</a></h1>
              <p>{this.state.subject.sub}</p>
        </header>
        <Subject title="React" sub="Hello React!!"></Subject>
        <List data={this.state.contents}></List>
        <Content title={_title} desc={_desc}></Content>
      </div>
    );
  }
}

export default App;

```





### 4. 이벤트 setState 함수 이해하기

1. 목적 

-  `setState({})` 라는 함수의 형태로 변경하는 이유를 알기 위해 !
- 동적인 변화를 주기 위해



### 5. 컴포넌트 이벤트 만들기 1 >> subject

- `App.js` 의 `<Subject>` 에서 함수를 만들고 `Subject.js` 에서 onClick 이벤트를 주어 역할을 수행할 수 있다.
- `props` 와 `.bind(this)` 를 통해 `state` 를 변화시키는 함수를 작성할 수 있다.



```javascript
// App.js 

// import React from 'react';
// import logo from './logo.svg';
import './App.css';
import React, { Component } from 'react';
import List from "./components/List"
import Content from "./components/Content"
import Subject from "./components/Subject"


class App extends Component {
  constructor(props) {
    super(props);
    this.state = {
      mode:'read',
      subject: {title: 'WEB', sub:"World Wide Web!"},
      welcome: {title:'Welcome', desc:'Hello, React!!'},
      contents: [
        {id: 1, title:"HTML", desc: "HTML is Hyper ....."},
        {id: 2, title:"CSS", desc: "CSS is Hyper ....."},
        {id: 3, title:"JAVASCRIPT", desc: "JAVASCRIPT is Hyper ....."}
      ]
    }
  }
  
  render() {
    var _title, _desc = null;
    if(this.state.mode === 'welcome') {
      _title = this.state.welcome.title;
      _desc = this.state.welcome.desc;
    } else if(this.state.mode === 'read') {
      _title = this.state.contents[0].title;
      _desc = this.state.contents[0].desc;
    }
    
    return (
      <div className="App">
        <Subject 
          title={this.state.subject.title} 
          sub={this.state.subject.sub}
          onChangePage={function() {
            this.setState({mode: 'welcome'})
          }.bind(this) }
          >
        </Subject>
        <Subject title="React" sub="Hello React!!"></Subject>
        <List data={this.state.contents}></List>
        <Content title={_title} desc={_desc}></Content>
      </div>
    );
  }
}

export default App;

```



```javascript
// Subject.js

import React, { Component } from 'react';

class Subject extends Component {
    render() {
      return (
        <header>
          <h1><a href="/" onClick={function(e) {
            e.preventDefault();
            this.props.onChangePage();      
          }.bind(this)}
          >{this.props.title}</a></h1>
              <p>{this.props.sub}</p>
        </header>
      );
    }
  }

  export default Subject;
```



### 6. 컴포넌트 이벤트 만들기 2 ,3>> List

```javascript
// App.js

// import React from 'react';
// import logo from './logo.svg';
import './App.css';
import React, { Component } from 'react';
import List from "./components/List"
import Content from "./components/Content"
import Subject from "./components/Subject"


class App extends Component {
  constructor(props) {
    super(props);
    this.state = {
      mode:'read',
      selected_content_id:0,
      subject: {title: 'WEB', sub:"World Wide Web!"},
      welcome: {title:'Welcome', desc:'Hello, React!!'},
      contents: [
        {id: 1, title:"HTML", desc: "HTML is Hyper ....."},
        {id: 2, title:"CSS", desc: "CSS is Hyper ....."},
        {id: 3, title:"JAVASCRIPT", desc: "JAVASCRIPT is Hyper ....."}
      ]
    }
  }
  
  render() {
    var _title, _desc = null;
    if(this.state.mode === 'welcome') {
      _title = this.state.welcome.title;
      _desc = this.state.welcome.desc;
    } else if(this.state.mode === 'read') {
      var i = 0;
      while(i< this.state.contents.length) {
        var data = this.state.contents[i];
        if(data.id === this.state.selected_content_id) {
          _title = data.title;
          _desc = data.desc;
          break;
        }
        i = i+1;
      }
    }
    
    return (
      <div className="App">
        <Subject 
          title={this.state.subject.title} 
          sub={this.state.subject.sub}
          onChangePage={function() {
            this.setState({mode: 'welcome'})
          }.bind(this) }
          >
        </Subject>
        {/* <header>
          <h1><a href="/" onClick={ function(e) {
            console.log('eee');
            e.preventDefault();
            this.setState({
              mode:'welcome'
            });
          }.bind(this)}> {this.state.subject.title}</a></h1>
              <p>{this.state.subject.sub}</p>
        </header> */}
        <Subject title="React" sub="Hello React!!"></Subject>
        <List 
        onChangePage={function(id) {
          this.setState({
            mode: 'read',
            selected_content_id:Number(id)
          });
        }.bind(this)}
        data={this.state.contents}
        >
        </List>
        <Content title={_title} desc={_desc}></Content>
      </div>
    );
  }
}


export default App;

```





```javascript
// List.js

import React, { Component } from 'react';

class List extends Component {
    render() {
      var lists = [];
      var data = this.props.data;
      var i = 0;
      while(i < data.length) {
        lists.push(
        <li key={data[i].id}> 
          <a
            href={"/content/"+data[i].id}
            // 맞춰주기 iaad 는 같아야 한다.
            data-iaad= {data[i].id}
            onClick={function(e) {
              e.preventDefault();
              this.props.onChangePage(e.target.dataset.iaad);
            }.bind(this)}
            // this 뒤에 data[i].id 넣어주면 function 인자로 들어간다.
            // 2가지 방법 다 쓸 수있다. 선택해서 쓸 것
            // onClick={function(id, e) {
            //   e.preventDefault();
            //   this.props.onChangePage(id);
            // }.bind(this, data[i].id)}
            >{data[i].title}</a>
        </li>);
        i = i + 1;
      }
      return (
        <nav>
            <ul>
                {lists}
            </ul>
        </nav>
      );
    }
  }

  export default List;
```

